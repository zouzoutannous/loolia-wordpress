'use strict';(function(l,d,f,q){function m(a){this.element=a;this.init()}const r=l(f),b=[],n=function(){for(let a=b.length-1;-1<a;--a)b[a]&&b[a].element?b[a].update(a):g(a)},p=function(a){a&&(h=a.h);for(a=b.length-1;-1<a;--a)b[a]&&b[a].element?(b[a].top=b[a].element.offset().top,b[a].update(a)):g(a)},g=function(a){b[a]&&(b[a].classList&&b[a].classList.remove("builder-parallax-scrolling"),b.splice(a,1),0===b.length&&(d.off("tfsmartresize",p),f.removeEventListener("scroll",n,{passive:!0}),k=null))};
let h=null,k=null;m.prototype={top:0,init(){this.top=this.element.offset().top;const a=this.element.css("background-image").replace(/(url\(|\)|")/g,"");if(a&&"none"!==a){const e=new Image;e.src=a;d.imagesLoad(e,function(a){this.w=e.width;this.h=e.height;b.push(this);this.update()}.bind(this))}else b.push(this),this.update();null===k&&(h=d.h,d.on("tfsmartresize",p),f.addEventListener("scroll",n,{passive:!0}),k=!0)},update(a){if(!1!==q.body.contains(this.element[0])&&this.element[0].classList.contains("builder-parallax-scrolling")){var b=
r.scrollTop(),c=this.element.offset().top;a=this.element.outerHeight(!0);c+a<b||c>b+h||(this.element[0].style.backgroundPositionY="calc(50% + "+Math.round(.1*(c-b))+"px)",c=Math.max(this.element.outerWidth(!0)/this.w,a/this.h),b=Math.round(this.w*c),c=Math.round(this.h*c),this.element[0].style.backgroundSize=c===Math.round(a)?Math.round(1.3*b)+"px "+Math.round(1.3*c)+"px":"")}else g(a)}};d.on("tb_parallax_init",function(a){a instanceof jQuery&&(a=a.get());void 0===a.length&&(a=[a]);for(let b=a.length-
1;-1<b;--b){let c=l(a[b]);c.data("plugin_builderParallax")||c.data("plugin_builderParallax",new m(c))}})})(jQuery,Themify,window,document);
